spring.application.name=ARCOS
spring.main.banner-mode=off

# Charge la config locale générée par le wizard (gitignored, non obligatoire)
spring.config.import=optional:file:./application-local.yaml

# ── Configuration Audio ─────────────────────────────────────────────────────
# Index du device audio d'entrée (-1 = auto-sélection)
arcos.audio.input-device-index=-1
# Fréquence d'échantillonnage du microphone (Hz)
arcos.audio.sample-rate=44100
# Seuil RMS en-dessous duquel l'audio est considéré comme silence
arcos.audio.silence-threshold=1000
# Durée de silence en ms avant arrêt de l'enregistrement
arcos.audio.silence-duration-ms=1200
# Durée maximale d'enregistrement en secondes
arcos.audio.max-recording-seconds=30

# ── Configuration Personnalité ───────────────────────────────────────────────
# Profil de personnalité : CALCIFER, K2SO, GLADOS, DEFAULT
arcos.personality.profile=DEFAULT
# Seuil d'intensité pour créer/mettre à jour une opinion
arcos.personality.opinion-threshold=0.5
# Seuil de similarité cosinus pour regrouper deux opinions (0.0–1.0)
arcos.personality.opinion-similarity-threshold=0.85
# TopK lors de la recherche d'opinions similaires
arcos.personality.opinion-search-topk=10
# Seuil de haute intensité de désir (déclenchement d'initiatives)
arcos.personality.desire-high-threshold=0.8
# Seuil de basse intensité de désir
arcos.personality.desire-low-threshold=0.3
# Intensité minimale d'opinion pour créer un désir
arcos.personality.desire-create-threshold=0.5
# Intensité minimale pour qu'un désir passe en statut PENDING
arcos.personality.desire-pending-threshold=0.7
# Facteur de lissage lors de la mise à jour de l'intensité d'un désir
arcos.personality.desire-smoothing-factor=0.7
# Intensité minimale d'un désir pour déclencher une initiative autonome
arcos.personality.initiative-threshold=0.8
# Heure minimale (incluse) avant laquelle aucune initiative n'est déclenchée (0–23)
arcos.personality.initiative-no-initiative-until-hour=9

# Configuration Mistral
spring.ai.mistralai.api-key=${MISTRALAI_API_KEY}

#mistral-medium-2508
spring.ai.mistralai.chat.options.model=mistral-large-2512

spring.ai.retry.on-client-errors = true
spring.ai.retry.max-attempts = 100
spring.ai.retry.backoff.initial-interval = 5000ms

# Configuration du rate Limiter
resilience4j.ratelimiter.instances.mistral_free.limit-for-period=1
resilience4j.ratelimiter.instances.mistral_free.limit-refresh-period=1s
resilience4j.ratelimiter.instances.mistral_free.timeout-duration=1500ms

# Configuration du module memory (6333 for http, 6334 for http2)
qdrant.host=${QDRANT_HOST:localhost}
qdrant.port=${QDRANT_PORT:6334}
memory.embedding.dimension=${EMBEDDING_DIMENSION:1024}

# ── Configuration Qdrant ─────────────────────────────────────────────────────
# Dimension des vecteurs d'embedding (doit correspondre au modèle d'embedding)
arcos.qdrant.embedding-dimension=${EMBEDDING_DIMENSION:1024}
# Métrique de distance : COSINE, EUCLID, DOT, MANHATTAN
arcos.qdrant.distance-metric=COSINE
# Retry connexion au démarrage
arcos.qdrant.max-retries=6
arcos.qdrant.initial-backoff-ms=1000
arcos.qdrant.max-backoff-ms=30000

# ── Configuration Recherche Web ──────────────────────────────────────────────
# Nombre de résultats retournés par la recherche Brave
arcos.search.brave-result-count=5

# Configuration de qdrant vector store
spring.ai.vectorstore.qdrant.host=${QDRANT_HOST:localhost}
spring.ai.vectorstore.qdrant.port=${QDRANT_PORT:6334}


# Logging configuration
logging.level.root=INFO
logging.level.Orchestrator=DEBUG

# Faster Whisper URL
faster-whisper.url=http://localhost:9876