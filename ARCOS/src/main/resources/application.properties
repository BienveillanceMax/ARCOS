spring.application.name=ARCOS
spring.main.banner-mode=off

# Charge la config locale generee par le wizard (gitignored, non obligatoire)
spring.config.import=optional:file:./application-local.yaml

# Configuration Audio
# Index du device audio d'entree (-1 = auto-selection)
arcos.audio.input-device-index=-1
# Frequence d'echantillonnage du microphone (Hz)
arcos.audio.sample-rate=44100
# Seuil RMS en-dessous duquel l'audio est considere comme silence
arcos.audio.silence-threshold=1000
# Duree de silence en ms avant arret de l'enregistrement
arcos.audio.silence-duration-ms=1200
# Duree maximale d'enregistrement en secondes
arcos.audio.max-recording-seconds=30

# Configuration Personnalite
# Profil de personnalite : CALCIFER, K2SO, GLADOS, DEFAULT
arcos.personality.profile=CALCIFER
# Seuil d'intensite pour creer/mettre a jour une opinion
arcos.personality.opinion-threshold=0.5
# Seuil de similarite cosinus pour regrouper deux opinions (0.0 - 1.0)
arcos.personality.opinion-similarity-threshold=0.85
# TopK lors de la recherche d'opinions similaires
arcos.personality.opinion-search-topk=10
# Seuil de haute intensite de desir (declenchement d'initiatives)
arcos.personality.desire-high-threshold=0.8
# Seuil de basse intensite de desir
arcos.personality.desire-low-threshold=0.3
# Intensite minimale d'opinion pour creer un desir
arcos.personality.desire-create-threshold=0.5
# Intensite minimale pour qu'un desir passe en statut PENDING
arcos.personality.desire-pending-threshold=0.7
# Facteur de lissage lors de la mise a jour de l'intensite d'un desir
arcos.personality.desire-smoothing-factor=0.7
# Intensite minimale d'un desir pour declencher une initiative autonome
arcos.personality.initiative-threshold=0.8
# Heure minimale (incluse) avant laquelle aucune initiative n'est declenchee
arcos.personality.initiative-no-initiative-until-hour=9

# Configuration Mistral
spring.ai.mistralai.api-key=${MISTRALAI_API_KEY}

#mistral-medium-2508
spring.ai.mistralai.chat.options.model=mistral-large-2512

spring.ai.retry.on-client-errors = true
spring.ai.retry.max-attempts = 100
spring.ai.retry.backoff.initial-interval = 5000ms

# Configuration du rate Limiter
resilience4j.ratelimiter.instances.mistral_free.limit-for-period=1
resilience4j.ratelimiter.instances.mistral_free.limit-refresh-period=1s
resilience4j.ratelimiter.instances.mistral_free.timeout-duration=1500ms

# Configuration du module memory (6333 for http, 6334 for http2)
qdrant.host=${QDRANT_HOST:localhost}
qdrant.port=${QDRANT_PORT:6334}
memory.embedding.dimension=${EMBEDDING_DIMENSION:1024}

# Configuration Qdrant
# Dimension des vecteurs d'embedding (doit correspondre au module d'embedding)
arcos.qdrant.embedding-dimension=${EMBEDDING_DIMENSION:1024}
# Metrique de distance : COSINE, EUCLID, DOT, MANHATTAN
arcos.qdrant.distance-metric=COSINE
# Retry connexion au demarrage
arcos.qdrant.max-retries=6
arcos.qdrant.initial-backoff-ms=1000
arcos.qdrant.max-backoff-ms=30000

# Configuration Recherche Web
# Nombre de resultats retournes par la recherche Brave
arcos.search.brave-result-count=5

# Configuration de qdrant vector store
spring.ai.vectorstore.qdrant.host=${QDRANT_HOST:localhost}
spring.ai.vectorstore.qdrant.port=${QDRANT_PORT:6334}


# Logging configuration
logging.level.root=INFO
logging.level.Orchestrator=DEBUG

# Faster Whisper URL
faster-whisper.url=http://localhost:9876